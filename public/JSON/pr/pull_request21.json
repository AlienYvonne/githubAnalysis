[{"url": "https://api.github.com/repos/nlohmann/json/issues/355", "repository_url": "https://api.github.com/repos/nlohmann/json", "labels_url": "https://api.github.com/repos/nlohmann/json/issues/355/labels{/name}", "comments_url": "https://api.github.com/repos/nlohmann/json/issues/355/comments", "events_url": "https://api.github.com/repos/nlohmann/json/issues/355/events", "html_url": "https://github.com/nlohmann/json/pull/355", "id": 187847690, "node_id": "MDExOlB1bGxSZXF1ZXN0OTI2Nzc2MjU=", "number": 355, "title": "Feature/user defined types bis", "user": {"login": "theodelrieu", "id": 15652306, "node_id": "MDQ6VXNlcjE1NjUyMzA2", "avatar_url": "https://avatars1.githubusercontent.com/u/15652306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theodelrieu", "html_url": "https://github.com/theodelrieu", "followers_url": "https://api.github.com/users/theodelrieu/followers", "following_url": "https://api.github.com/users/theodelrieu/following{/other_user}", "gists_url": "https://api.github.com/users/theodelrieu/gists{/gist_id}", "starred_url": "https://api.github.com/users/theodelrieu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theodelrieu/subscriptions", "organizations_url": "https://api.github.com/users/theodelrieu/orgs", "repos_url": "https://api.github.com/users/theodelrieu/repos", "events_url": "https://api.github.com/users/theodelrieu/events{/privacy}", "received_events_url": "https://api.github.com/users/theodelrieu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 85, "created_at": "2016-11-07T22:27:05Z", "updated_at": "2017-01-23T09:41:06Z", "closed_at": "2017-01-23T09:41:06Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/nlohmann/json/pulls/355", "html_url": "https://github.com/nlohmann/json/pull/355", "diff_url": "https://github.com/nlohmann/json/pull/355.diff", "patch_url": "https://github.com/nlohmann/json/pull/355.patch"}, "body": "WIP: This PR is *NOT* ready to be merged, its purpose is to facilitate review and discussion."}, {"url": "https://api.github.com/repos/nlohmann/json/issues/338", "repository_url": "https://api.github.com/repos/nlohmann/json", "labels_url": "https://api.github.com/repos/nlohmann/json/issues/338/labels{/name}", "comments_url": "https://api.github.com/repos/nlohmann/json/issues/338/comments", "events_url": "https://api.github.com/repos/nlohmann/json/issues/338/events", "html_url": "https://github.com/nlohmann/json/pull/338", "id": 183944166, "node_id": "MDExOlB1bGxSZXF1ZXN0ODk5OTY0MTA=", "number": 338, "title": "Feature/user defined types", "user": {"login": "theodelrieu", "id": 15652306, "node_id": "MDQ6VXNlcjE1NjUyMzA2", "avatar_url": "https://avatars1.githubusercontent.com/u/15652306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theodelrieu", "html_url": "https://github.com/theodelrieu", "followers_url": "https://api.github.com/users/theodelrieu/followers", "following_url": "https://api.github.com/users/theodelrieu/following{/other_user}", "gists_url": "https://api.github.com/users/theodelrieu/gists{/gist_id}", "starred_url": "https://api.github.com/users/theodelrieu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theodelrieu/subscriptions", "organizations_url": "https://api.github.com/users/theodelrieu/orgs", "repos_url": "https://api.github.com/users/theodelrieu/repos", "events_url": "https://api.github.com/users/theodelrieu/events{/privacy}", "received_events_url": "https://api.github.com/users/theodelrieu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 46374233, "node_id": "MDU6TGFiZWw0NjM3NDIzMw==", "url": "https://api.github.com/repos/nlohmann/json/labels/kind:%20enhancement/improvement", "name": "kind: enhancement/improvement", "color": "207de5", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2016-10-19T12:11:15Z", "updated_at": "2016-12-18T19:38:27Z", "closed_at": "2016-12-18T19:38:27Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/nlohmann/json/pulls/338", "html_url": "https://github.com/nlohmann/json/pull/338", "diff_url": "https://github.com/nlohmann/json/pull/338.diff", "patch_url": "https://github.com/nlohmann/json/pull/338.patch"}, "body": "WIP: This PR is **NOT** ready to be merged, its purpose is to facilitate review/discussions.\n## Files to change\n\nThere are currently two files which need to be edited:\n1. [`src/json.hpp.re2c`](https://github.com/nlohmann/json/blob/master/src/json.hpp.re2c) (note the `.re2c` suffix) - This file contains a comment section which describes the JSON lexic. This section is translated by [`re2c`](http://re2c.org) into file [`src/json.hpp`](https://github.com/nlohmann/json/blob/master/src/json.hpp) which is plain \"vanilla\" C++11 code. (In fact, the generated lexer consists of some hundred lines of `goto`s, which is a hint you never want to edit this file...).\n   \n   If you only edit file `src/json.hpp` (without the `.re2c` suffix), your changes will be overwritten as soon as the lexer is touched again. To generate the `src/json.hpp` file which is actually used during compilation of the tests and all other code, please execute\n   \n   ``` sh\n   make re2c\n   ```\n   \n   To run [`re2c`](http://re2c.org) and generate/overwrite file `src/json.hpp` with your changes in file `src/json.hpp.re2c`.\n2. [`test/src/unit.cpp`](https://github.com/nlohmann/json/blob/master/test/unit.cpp) - This contains the [Catch](https://github.com/philsquared/Catch) unit tests which currently cover [100 %](https://coveralls.io/github/nlohmann/json) of the library's code.\n   \n   If you add or change a feature, please also add a unit test to this file. The unit tests can be compiled with\n   \n   ``` sh\n   make\n   ```\n   \n   and can be executed with\n   \n   ``` sh\n   ./json_unit\n   ```\n   \n   The test cases are also executed with several different compilers on [Travis](https://travis-ci.org/nlohmann/json) once you open a pull request.\n\nPlease understand that I cannot accept pull requests changing only file `src/json.hpp`.\n## Note\n- If you open a pull request, the code will be automatically tested with [Valgrind](http://valgrind.org)'s Memcheck tool to detect memory leaks. Please be aware that the execution with Valgrind _may_ in rare cases yield different behavior than running the code directly. This can result in failing unit tests which run successfully without Valgrind.\n## Please don't\n- Only make changes to file `src/json.hpp` -- please read the paragraph above and understand why `src/json.hpp.re2c` exists.\n- The C++11 support varies between different **compilers** and versions. Please note the [list of supported compilers](https://github.com/nlohmann/json/blob/master/README.md#supported-compilers). Some compilers like GCC 4.8 (and earlier), Clang 3.3 (and earlier), or Microsoft Visual Studio 13.0 and earlier are known not to work due to missing or incomplete C++11 support. Please refrain from proposing changes that work around these compiler's limitations with `#ifdef`s or other means.\n- Specifically, I am aware of compilation problems with **Microsoft Visual Studio** (there even is an [issue label](https://github.com/nlohmann/json/issues?utf8=\u2713&q=label%3A%22visual+studio%22+) for these kind of bugs). I understand that even in 2016, complete C++11 support isn't there yet. But please also understand that I do not want to drop features or uglify the code just to make Microsoft's sub-standard compiler happy. The past has shown that there are ways to express the functionality such that the code compiles with the most recent MSVC - unfortunately, this is not the main objective of the project.\n- Please refrain from proposing changes that would **break [JSON](http://json.org) conformance**. If you propose a conformant extension of JSON to be supported by the library, please motivate this extension.\n- Please do not open pull requests that address **multiple issues**.\n"}, {"url": "https://api.github.com/repos/nlohmann/json/issues/337", "repository_url": "https://api.github.com/repos/nlohmann/json", "labels_url": "https://api.github.com/repos/nlohmann/json/issues/337/labels{/name}", "comments_url": "https://api.github.com/repos/nlohmann/json/issues/337/comments", "events_url": "https://api.github.com/repos/nlohmann/json/issues/337/events", "html_url": "https://github.com/nlohmann/json/pull/337", "id": 183267236, "node_id": "MDExOlB1bGxSZXF1ZXN0ODk1MjU5Nzg=", "number": 337, "title": "replace strtold with non locale dependent version", "user": {"login": "whackashoe", "id": 855581, "node_id": "MDQ6VXNlcjg1NTU4MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/855581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whackashoe", "html_url": "https://github.com/whackashoe", "followers_url": "https://api.github.com/users/whackashoe/followers", "following_url": "https://api.github.com/users/whackashoe/following{/other_user}", "gists_url": "https://api.github.com/users/whackashoe/gists{/gist_id}", "starred_url": "https://api.github.com/users/whackashoe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whackashoe/subscriptions", "organizations_url": "https://api.github.com/users/whackashoe/orgs", "repos_url": "https://api.github.com/users/whackashoe/repos", "events_url": "https://api.github.com/users/whackashoe/events{/privacy}", "received_events_url": "https://api.github.com/users/whackashoe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 344572510, "node_id": "MDU6TGFiZWwzNDQ1NzI1MTA=", "url": "https://api.github.com/repos/nlohmann/json/labels/state:%20help%20needed", "name": "state: help needed", "color": "fbca04", "default": false}, {"id": 304694104, "node_id": "MDU6TGFiZWwzMDQ2OTQxMDQ=", "url": "https://api.github.com/repos/nlohmann/json/labels/state:%20please%20discuss", "name": "state: please discuss", "color": "fbca04", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2016-10-16T13:34:59Z", "updated_at": "2016-12-28T13:34:50Z", "closed_at": "2016-12-28T13:34:50Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/nlohmann/json/pulls/337", "html_url": "https://github.com/nlohmann/json/pull/337", "diff_url": "https://github.com/nlohmann/json/pull/337.diff", "patch_url": "https://github.com/nlohmann/json/pull/337.patch"}, "body": "Hi!\n\nI've taken and reworked a strtod implementation from [TI](https://bitbucket.org/C0deMaver1ck/peeklinux/src/9d811be8bcb584caf1da125df80a2b1801f3d98c/peek-build/m23/csw-system/rtslib/v2_70/strtod.c?at=master&fileviewer=file-view-default) in order to provide this. It's rewritten in an attempt to be solid C++11 rather than C. \n\nUsing this fixes #302. It does not support octal or hexadecimal which JSON doesn't recognize in its number type anyway. This seems to be a bit more efficient (possibly due to non support of octal/hexadecimal) though I wouldn't be surprised if these gains disappear once the last few bugs are fixed heh.\n\nNot all tests are passing yet but it's pretty close, perhaps someone can figure out the ones I haven't. \n# BEFORE:\n\n``` text\n./json_benchmarks\nparse jeopardy.json                           1  1681452236 ns/op\nparse canada.json                            50    43518542 ns/op\nparse citm_catalog.json                      50    24345478 ns/op\nparse twitter.json                          100    12713148 ns/op\nparse numbers/floats.json                     5   447398631 ns/op\nparse numbers/signed_ints.json                5   280521961 ns/op\nparse numbers/unsigned_ints.json              5   278368046 ns/op\ndump jeopardy.json                            1  1390675617 ns/op\ndump jeopardy.json with indent                1  1578243282 ns/op\n./json_benchmarks 21.516s\n```\n# AFTER:\n\n``` text\n./json_benchmarks\nparse jeopardy.json                           1  1619098873 ns/op\nparse canada.json                            50    36922996 ns/op\nparse citm_catalog.json                      50    25375433 ns/op\nparse twitter.json                          100    13150869 ns/op\nparse numbers/floats.json                     5   376901576 ns/op\nparse numbers/signed_ints.json                5   300091862 ns/op\nparse numbers/unsigned_ints.json              5   297152348 ns/op\ndump jeopardy.json                            1  1390073209 ns/op\ndump jeopardy.json with indent                1  1616301685 ns/op\n./json_benchmarks 20.828s\n```\n# UNIT TESTS:\n\n(these are run with `CXX=clang++ make check`)\n\n``` text\nsrc/unit-class_parser.cpp:37\n\nsrc/unit-class_parser.cpp:258: FAILED:\n  CHECK( json::parser(\"0.999\").parse() == json(0.999) )\nwith expansion:\n  0.999 == 0.999\n\nregression tests\n  issue #89 - nonstandard integer type\nsrc/unit-regression.cpp:36\n\nsrc/unit-regression.cpp:150: FAILED:\n  CHECK( j.get<float>() == 4294967296.0f )\nwith expansion:\n  4294967040.0f == 4294967296.0f\n\nsrc/unit-regression.cpp:160: FAILED:\n  CHECK( j.get<float>() == -2147483650.0f )\nwith expansion:\n  -2147483520.0f == -2147483648.0f\n\nregression tests\n  issue #186 miloyip/nativejson-benchmark: floating-point parsing\nsrc/unit-regression.cpp:36\n\nsrc/unit-regression.cpp:316: FAILED:\n  CHECK( j.get<double>() == 2.2250738585072009e-308 )\nwith expansion:\n  0.0 == 0.0\n\nsrc/unit-regression.cpp:319: FAILED:\n  CHECK( j.get<double>() == 0.99999999999999989 )\nwith expansion:\n  1.0 == 1.0\n\nsrc/unit-regression.cpp:322: FAILED:\n  CHECK( j.get<double>() == 1.00000000000000022 )\nwith expansion:\n  1.0 == 1.0\n\nsrc/unit-regression.cpp:325: FAILED:\n  CHECK( j.get<double>() == 72057594037927928.0 )\nwith expansion:\n  72057594037927920.0 == 72057594037927928.0\n\nsrc/unit-regression.cpp:328: FAILED:\n  CHECK( j.get<double>() == 9223372036854774784.0 )\nwith expansion:\n  9223372036854775808.0\n  ==\n  9223372036854774784.0\n\nsrc/unit-regression.cpp:331: FAILED:\n  CHECK( j.get<double>() == 10141204801825834086073718800384.0 )\nwith expansion:\n  10141204801825832960173811957760.0\n  ==\n  10141204801825834086073718800384.0\n\nsrc/unit-regression.cpp:334: FAILED:\n  CHECK( j.get<double>() == 5708990770823838890407843763683279797179383808.0 )\nwith expansion:\n  5708990770823843327184944562486185035640602624.0\n  ==\n  5708990770823838890407843763683279797179383808.0\n\ncompliance tests from nativejson-benchmark\n  roundtrip\nsrc/unit-testsuites.cpp:103\n\nsrc/unit-testsuites.cpp:309: FAILED:\n  CHECK( j.dump() == json_string )\nwith expansion:\n  \"[0.0]\" == \"[2.2250738585072e-308]\"\nwith message:\n  filename := test/data/json_roundtrip/roundtrip29.json\n\n===============================================================================\ntest cases:      35 |      32 passed |  3 failed\nassertions: 8905168 | 8905157 passed | 11 failed\n```\n"}, {"url": "https://api.github.com/repos/nlohmann/json/issues/336", "repository_url": "https://api.github.com/repos/nlohmann/json", "labels_url": "https://api.github.com/repos/nlohmann/json/issues/336/labels{/name}", "comments_url": "https://api.github.com/repos/nlohmann/json/issues/336/comments", "events_url": "https://api.github.com/repos/nlohmann/json/issues/336/events", "html_url": "https://github.com/nlohmann/json/pull/336", "id": 183241808, "node_id": "MDExOlB1bGxSZXF1ZXN0ODk1MTE2Njk=", "number": 336, "title": "fix minor grammar/style issue in README.md", "user": {"login": "seeekr", "id": 302886, "node_id": "MDQ6VXNlcjMwMjg4Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/302886?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seeekr", "html_url": "https://github.com/seeekr", "followers_url": "https://api.github.com/users/seeekr/followers", "following_url": "https://api.github.com/users/seeekr/following{/other_user}", "gists_url": "https://api.github.com/users/seeekr/gists{/gist_id}", "starred_url": "https://api.github.com/users/seeekr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seeekr/subscriptions", "organizations_url": "https://api.github.com/users/seeekr/orgs", "repos_url": "https://api.github.com/users/seeekr/repos", "events_url": "https://api.github.com/users/seeekr/events{/privacy}", "received_events_url": "https://api.github.com/users/seeekr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/nlohmann/json/milestones/12", "html_url": "https://github.com/nlohmann/json/milestone/12", "labels_url": "https://api.github.com/repos/nlohmann/json/milestones/12/labels", "id": 2071838, "node_id": "MDk6TWlsZXN0b25lMjA3MTgzOA==", "number": 12, "title": "Release 2.0.7", "description": "The next release if backwards compatible bug fixes are introduced. A bug fix is defined as an internal change that fixes incorrect behavior.\r\n", "creator": {"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2016-10-15T14:53:41Z", "updated_at": "2016-11-02T19:58:08Z", "due_on": "2016-11-02T07:00:00Z", "closed_at": "2016-11-02T19:58:08Z"}, "comments": 2, "created_at": "2016-10-16T00:47:15Z", "updated_at": "2016-10-16T21:40:27Z", "closed_at": "2016-10-16T21:40:17Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/nlohmann/json/pulls/336", "html_url": "https://github.com/nlohmann/json/pull/336", "diff_url": "https://github.com/nlohmann/json/pull/336.diff", "patch_url": "https://github.com/nlohmann/json/pull/336.patch"}, "body": ""}]