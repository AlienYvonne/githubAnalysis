[{"url": "https://api.github.com/repos/nlohmann/json/issues/52", "repository_url": "https://api.github.com/repos/nlohmann/json", "labels_url": "https://api.github.com/repos/nlohmann/json/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/nlohmann/json/issues/52/comments", "events_url": "https://api.github.com/repos/nlohmann/json/issues/52/events", "html_url": "https://github.com/nlohmann/json/issues/52", "id": 64583856, "node_id": "MDU6SXNzdWU2NDU4Mzg1Ng==", "number": 52, "title": "Document erase, count, and iterators key and value", "user": {"login": "gnzlbg", "id": 904614, "node_id": "MDQ6VXNlcjkwNDYxNA==", "avatar_url": "https://avatars0.githubusercontent.com/u/904614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gnzlbg", "html_url": "https://github.com/gnzlbg", "followers_url": "https://api.github.com/users/gnzlbg/followers", "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}", "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}", "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions", "organizations_url": "https://api.github.com/users/gnzlbg/orgs", "repos_url": "https://api.github.com/users/gnzlbg/repos", "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}", "received_events_url": "https://api.github.com/users/gnzlbg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 46374233, "node_id": "MDU6TGFiZWw0NjM3NDIzMw==", "url": "https://api.github.com/repos/nlohmann/json/labels/kind:%20enhancement/improvement", "name": "kind: enhancement/improvement", "color": "207de5", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-03-26T17:04:58Z", "updated_at": "2016-11-13T22:38:09Z", "closed_at": "2015-03-27T16:11:11Z", "author_association": "NONE", "body": "Add examples in the documentation for:\n- erase(iterator)\n- count(iterator)\n- and for the usage of iterators key()/value() member functions\n"}, {"url": "https://api.github.com/repos/nlohmann/json/issues/51", "repository_url": "https://api.github.com/repos/nlohmann/json", "labels_url": "https://api.github.com/repos/nlohmann/json/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/nlohmann/json/issues/51/comments", "events_url": "https://api.github.com/repos/nlohmann/json/issues/51/events", "html_url": "https://github.com/nlohmann/json/issues/51", "id": 64490007, "node_id": "MDU6SXNzdWU2NDQ5MDAwNw==", "number": 51, "title": "Do not use std::to_string", "user": {"login": "krisztiantobias", "id": 11661824, "node_id": "MDQ6VXNlcjExNjYxODI0", "avatar_url": "https://avatars0.githubusercontent.com/u/11661824?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krisztiantobias", "html_url": "https://github.com/krisztiantobias", "followers_url": "https://api.github.com/users/krisztiantobias/followers", "following_url": "https://api.github.com/users/krisztiantobias/following{/other_user}", "gists_url": "https://api.github.com/users/krisztiantobias/gists{/gist_id}", "starred_url": "https://api.github.com/users/krisztiantobias/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krisztiantobias/subscriptions", "organizations_url": "https://api.github.com/users/krisztiantobias/orgs", "repos_url": "https://api.github.com/users/krisztiantobias/repos", "events_url": "https://api.github.com/users/krisztiantobias/events{/privacy}", "received_events_url": "https://api.github.com/users/krisztiantobias/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 46374231, "node_id": "MDU6TGFiZWw0NjM3NDIzMQ==", "url": "https://api.github.com/repos/nlohmann/json/labels/kind:%20bug", "name": "kind: bug", "color": "fc2929", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2015-03-26T10:24:28Z", "updated_at": "2015-03-27T16:13:12Z", "closed_at": "2015-03-27T16:13:12Z", "author_association": "NONE", "body": "This is simply wrong:\n\n``` cpp\n    case (value_t::number_float):\n    {\n        return std::to_string(m_value.number_float);\n    }\n```\n\nThe to_string use std::locale what can change the point to comma (happened with us, because in QT the QApplication create change this) what is not good for json. You have to use always point instead of comma (json rpc standard)\n"}, {"url": "https://api.github.com/repos/nlohmann/json/issues/50", "repository_url": "https://api.github.com/repos/nlohmann/json", "labels_url": "https://api.github.com/repos/nlohmann/json/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/nlohmann/json/issues/50/comments", "events_url": "https://api.github.com/repos/nlohmann/json/issues/50/events", "html_url": "https://github.com/nlohmann/json/issues/50", "id": 63954027, "node_id": "MDU6SXNzdWU2Mzk1NDAyNw==", "number": 50, "title": "Supported compilers", "user": {"login": "suy", "id": 1200609, "node_id": "MDQ6VXNlcjEyMDA2MDk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1200609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suy", "html_url": "https://github.com/suy", "followers_url": "https://api.github.com/users/suy/followers", "following_url": "https://api.github.com/users/suy/following{/other_user}", "gists_url": "https://api.github.com/users/suy/gists{/gist_id}", "starred_url": "https://api.github.com/users/suy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suy/subscriptions", "organizations_url": "https://api.github.com/users/suy/orgs", "repos_url": "https://api.github.com/users/suy/repos", "events_url": "https://api.github.com/users/suy/events{/privacy}", "received_events_url": "https://api.github.com/users/suy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 46374233, "node_id": "MDU6TGFiZWw0NjM3NDIzMw==", "url": "https://api.github.com/repos/nlohmann/json/labels/kind:%20enhancement/improvement", "name": "kind: enhancement/improvement", "color": "207de5", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2015-03-24T09:53:39Z", "updated_at": "2016-11-13T22:38:09Z", "closed_at": "2015-04-09T17:21:47Z", "author_association": "NONE", "body": "Hi.\n\nThere is no documentation on what compilers are supported, or which C++ features are required. I've tried to include the header in a project with MSVC 2013, and I get plenty of compile errors (with MinGW it compiles fine). I know MSVC might not have good enough C++11 support, so that's somewhat expected. I'm wondering, though, if anybody has attempted some newer pre-release of MSVC and if it is worth it at all trying to get it compile, sending patches, etc.\n\nThank you.\n\nPD: In case it's useful, the first error I have is with the declaration of using iterator = basic_json::iterator:\n\n```\nc:\\users\\alex\\documents\\helloworld\\json/src/json.hpp(142) : error C2061: syntax error : identifier 'iterator'\n        c:\\users\\alex\\documents\\helloworld\\json/src/json.hpp(4335) : see reference to class template instantiation 'nlohmann::basic_json<ObjectType,ArrayType,StringType,BooleanType,NumberIntegerType,NumberFloatType,Allocator>' being compiled\nc:\\users\\alex\\documents\\helloworld\\json/src/json.hpp(142) : error C2238: unexpected token(s) preceding ';'\n```\n\nLater on I get plenty of unrecognized noexcept. The later could be worked around with a macro, I think, but I have no idea on the former, or other template magic involved.\n"}, {"url": "https://api.github.com/repos/nlohmann/json/issues/49", "repository_url": "https://api.github.com/repos/nlohmann/json", "labels_url": "https://api.github.com/repos/nlohmann/json/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/nlohmann/json/issues/49/comments", "events_url": "https://api.github.com/repos/nlohmann/json/issues/49/events", "html_url": "https://github.com/nlohmann/json/issues/49", "id": 62529139, "node_id": "MDU6SXNzdWU2MjUyOTEzOQ==", "number": 49, "title": "Confused about iterating through json objects", "user": {"login": "DanTheColoradan", "id": 3826143, "node_id": "MDQ6VXNlcjM4MjYxNDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/3826143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DanTheColoradan", "html_url": "https://github.com/DanTheColoradan", "followers_url": "https://api.github.com/users/DanTheColoradan/followers", "following_url": "https://api.github.com/users/DanTheColoradan/following{/other_user}", "gists_url": "https://api.github.com/users/DanTheColoradan/gists{/gist_id}", "starred_url": "https://api.github.com/users/DanTheColoradan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DanTheColoradan/subscriptions", "organizations_url": "https://api.github.com/users/DanTheColoradan/orgs", "repos_url": "https://api.github.com/users/DanTheColoradan/repos", "events_url": "https://api.github.com/users/DanTheColoradan/events{/privacy}", "received_events_url": "https://api.github.com/users/DanTheColoradan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 46374231, "node_id": "MDU6TGFiZWw0NjM3NDIzMQ==", "url": "https://api.github.com/repos/nlohmann/json/labels/kind:%20bug", "name": "kind: bug", "color": "fc2929", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-03-17T22:06:47Z", "updated_at": "2015-03-26T17:03:35Z", "closed_at": "2015-03-26T17:01:18Z", "author_association": "NONE", "body": "If I have:\n\n``` .json\n{\n  \"england\": {\n    \"name\": \"euro\",\n    \"value\": 57.99\n  },\n  \"mexico\": {\n    \"name\": \"peso\",\n    \"value\": 31.99\n  },\n  \"us\": {\n    \"name\": \"USD\",\n    \"value\": 42.99\n  }\n}\n```\n\nAnd I want to iterate through each, how would I do so?\n\nMy attempt so far has been similar to the following:\n\n``` .cpp\nstd::ifstream input_file( const string file_path );\nnlohmann::json currencies_json;\ncurrencies_json << input_file;\ninput_file.close();\n\nunordered_map <string, currency_class> currencies;\nfor ( const auto currency_json: currencies_json ) {\n    currency_class new_currency;\n\n    new_currency[ \"country\" ] = ???\n    new_currency[ \"name\" ] = ???\n    new_currency[ \"value\"] = ???\n\n    currencies[ country ] = new_currency;\n}\n```\n\nI've tried it a a few ways including - for example - creating a string for `new_currency[ \"country\" ]` first and then storing it in it like `new_currency[ \"country\" ] = my_string`, but I get errors such as:\n\n``` .sh\nno member named 'key' in 'nlohmann::basic_json<std::map, std::vector, std::__1::basic_string<char>, bool, long long, double, std::allocator>'\n```\n\nor\n\n``` .sh\n[....]:1073:20: error: 'm_it' is a private member of 'nlohmann::basic_json<std::map, std::vector, std::__1::basic_string<char>,\n      bool, long long, double, std::allocator>::const_iterator'\n           result.m_it.object_iterator = m_value.object->find(key);\n                   ^\n[...]:89:32: note: in instantiation of member function 'nlohmann::basic_json<std::map, std::vector, std::__1::basic_string<char>, bool, long long, double,\n      std::allocator>::find' requested here\n                const auto iterator = currencies.find(\"country\");\n                                             ^\n[...]/build/dependencies/json-prefix/src/json/src/json.hpp:3007:96: note: declared private here\n        internal_iterator<typename array_t::const_iterator, typename object_t::const_iterator> m_it;\n```\n\nCould you provide some guidance? I'd really appreciate it!\n"}, {"url": "https://api.github.com/repos/nlohmann/json/issues/48", "repository_url": "https://api.github.com/repos/nlohmann/json", "labels_url": "https://api.github.com/repos/nlohmann/json/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/nlohmann/json/issues/48/comments", "events_url": "https://api.github.com/repos/nlohmann/json/issues/48/events", "html_url": "https://github.com/nlohmann/json/issues/48", "id": 60546129, "node_id": "MDU6SXNzdWU2MDU0NjEyOQ==", "number": 48, "title": "Use non-member begin/end", "user": {"login": "gnzlbg", "id": 904614, "node_id": "MDQ6VXNlcjkwNDYxNA==", "avatar_url": "https://avatars0.githubusercontent.com/u/904614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gnzlbg", "html_url": "https://github.com/gnzlbg", "followers_url": "https://api.github.com/users/gnzlbg/followers", "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}", "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}", "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions", "organizations_url": "https://api.github.com/users/gnzlbg/orgs", "repos_url": "https://api.github.com/users/gnzlbg/repos", "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}", "received_events_url": "https://api.github.com/users/gnzlbg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 46374233, "node_id": "MDU6TGFiZWw0NjM3NDIzMw==", "url": "https://api.github.com/repos/nlohmann/json/labels/kind:%20enhancement/improvement", "name": "kind: enhancement/improvement", "color": "207de5", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2015-03-10T18:27:35Z", "updated_at": "2016-11-13T22:38:09Z", "closed_at": "2015-03-22T16:30:56Z", "author_association": "NONE", "body": "Right now the library uses member-functions `.begin()` and `.end()` when serializing sequences: see e.g. [here](https://github.com/nlohmann/json/blob/master/src/json.hpp#L441). \n\nAs a consequence some types cannot be serialized. \n"}, {"url": "https://api.github.com/repos/nlohmann/json/issues/47", "repository_url": "https://api.github.com/repos/nlohmann/json", "labels_url": "https://api.github.com/repos/nlohmann/json/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/nlohmann/json/issues/47/comments", "events_url": "https://api.github.com/repos/nlohmann/json/issues/47/events", "html_url": "https://github.com/nlohmann/json/issues/47", "id": 60523518, "node_id": "MDU6SXNzdWU2MDUyMzUxOA==", "number": 47, "title": "Erase key", "user": {"login": "gnzlbg", "id": 904614, "node_id": "MDQ6VXNlcjkwNDYxNA==", "avatar_url": "https://avatars0.githubusercontent.com/u/904614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gnzlbg", "html_url": "https://github.com/gnzlbg", "followers_url": "https://api.github.com/users/gnzlbg/followers", "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}", "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}", "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions", "organizations_url": "https://api.github.com/users/gnzlbg/orgs", "repos_url": "https://api.github.com/users/gnzlbg/repos", "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}", "received_events_url": "https://api.github.com/users/gnzlbg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 46374233, "node_id": "MDU6TGFiZWw0NjM3NDIzMw==", "url": "https://api.github.com/repos/nlohmann/json/labels/kind:%20enhancement/improvement", "name": "kind: enhancement/improvement", "color": "207de5", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-03-10T16:02:41Z", "updated_at": "2016-11-13T22:38:09Z", "closed_at": "2015-03-24T15:51:01Z", "author_association": "NONE", "body": "Right now there is no way of erasing a key.\n"}, {"url": "https://api.github.com/repos/nlohmann/json/issues/46", "repository_url": "https://api.github.com/repos/nlohmann/json", "labels_url": "https://api.github.com/repos/nlohmann/json/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/nlohmann/json/issues/46/comments", "events_url": "https://api.github.com/repos/nlohmann/json/issues/46/events", "html_url": "https://github.com/nlohmann/json/issues/46", "id": 60523361, "node_id": "MDU6SXNzdWU2MDUyMzM2MQ==", "number": 46, "title": "Key iterator", "user": {"login": "gnzlbg", "id": 904614, "node_id": "MDQ6VXNlcjkwNDYxNA==", "avatar_url": "https://avatars0.githubusercontent.com/u/904614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gnzlbg", "html_url": "https://github.com/gnzlbg", "followers_url": "https://api.github.com/users/gnzlbg/followers", "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}", "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}", "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions", "organizations_url": "https://api.github.com/users/gnzlbg/orgs", "repos_url": "https://api.github.com/users/gnzlbg/repos", "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}", "received_events_url": "https://api.github.com/users/gnzlbg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 46374233, "node_id": "MDU6TGFiZWw0NjM3NDIzMw==", "url": "https://api.github.com/repos/nlohmann/json/labels/kind:%20enhancement/improvement", "name": "kind: enhancement/improvement", "color": "207de5", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 19, "created_at": "2015-03-10T16:01:55Z", "updated_at": "2016-11-13T22:38:09Z", "closed_at": "2015-03-26T17:01:12Z", "author_association": "NONE", "body": "When iterating over a `json` object, e.g. using a range-based for loop, one only gets the values, and it is impossible right now to get the key of each value. It would be nice to be able to iterate over the keys, since this allows you to get the value afterwards if you want too. \n\nAnother alternative is a key.value pair iterator like map.\n"}, {"url": "https://api.github.com/repos/nlohmann/json/issues/45", "repository_url": "https://api.github.com/repos/nlohmann/json", "labels_url": "https://api.github.com/repos/nlohmann/json/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/nlohmann/json/issues/45/comments", "events_url": "https://api.github.com/repos/nlohmann/json/issues/45/events", "html_url": "https://github.com/nlohmann/json/issues/45", "id": 60506866, "node_id": "MDU6SXNzdWU2MDUwNjg2Ng==", "number": 45, "title": "Add count member function", "user": {"login": "gnzlbg", "id": 904614, "node_id": "MDQ6VXNlcjkwNDYxNA==", "avatar_url": "https://avatars0.githubusercontent.com/u/904614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gnzlbg", "html_url": "https://github.com/gnzlbg", "followers_url": "https://api.github.com/users/gnzlbg/followers", "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}", "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}", "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions", "organizations_url": "https://api.github.com/users/gnzlbg/orgs", "repos_url": "https://api.github.com/users/gnzlbg/repos", "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}", "received_events_url": "https://api.github.com/users/gnzlbg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 46374233, "node_id": "MDU6TGFiZWw0NjM3NDIzMw==", "url": "https://api.github.com/repos/nlohmann/json/labels/kind:%20enhancement/improvement", "name": "kind: enhancement/improvement", "color": "207de5", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2015-03-10T14:23:22Z", "updated_at": "2016-11-13T22:38:09Z", "closed_at": "2015-03-22T18:07:48Z", "author_association": "NONE", "body": "A typical operation is to find if a `json` object has a given key, this is typically done like:\n\n``` c++\njson j;\nbool has_key = j.find(\"key\") != j.end();\n```\n\nThe standard containers (`std::map`, `std::set`,...) offer a `count` member function that counts the number of occurrences of a key, such that one can:\n\n``` c++\nstd::map<std::string, int> m;\nbool has_key = m.count(\"key\");  // -> count == 0? false : true\n```\n\nIt would be nice to have something similar since this is a very common operation.\n"}, {"url": "https://api.github.com/repos/nlohmann/json/issues/44", "repository_url": "https://api.github.com/repos/nlohmann/json", "labels_url": "https://api.github.com/repos/nlohmann/json/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/nlohmann/json/issues/44/comments", "events_url": "https://api.github.com/repos/nlohmann/json/issues/44/events", "html_url": "https://github.com/nlohmann/json/issues/44", "id": 59815590, "node_id": "MDU6SXNzdWU1OTgxNTU5MA==", "number": 44, "title": "Problem getting vector (array) of strings", "user": {"login": "amirmasoudabdol", "id": 1290841, "node_id": "MDQ6VXNlcjEyOTA4NDE=", "avatar_url": "https://avatars0.githubusercontent.com/u/1290841?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amirmasoudabdol", "html_url": "https://github.com/amirmasoudabdol", "followers_url": "https://api.github.com/users/amirmasoudabdol/followers", "following_url": "https://api.github.com/users/amirmasoudabdol/following{/other_user}", "gists_url": "https://api.github.com/users/amirmasoudabdol/gists{/gist_id}", "starred_url": "https://api.github.com/users/amirmasoudabdol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amirmasoudabdol/subscriptions", "organizations_url": "https://api.github.com/users/amirmasoudabdol/orgs", "repos_url": "https://api.github.com/users/amirmasoudabdol/repos", "events_url": "https://api.github.com/users/amirmasoudabdol/events{/privacy}", "received_events_url": "https://api.github.com/users/amirmasoudabdol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 46374231, "node_id": "MDU6TGFiZWw0NjM3NDIzMQ==", "url": "https://api.github.com/repos/nlohmann/json/labels/kind:%20bug", "name": "kind: bug", "color": "fc2929", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2015-03-04T15:44:35Z", "updated_at": "2015-04-09T08:02:49Z", "closed_at": "2015-04-08T20:31:55Z", "author_association": "NONE", "body": "Considering the JSON below,\n\n``` json\n{\n     \"names\": [\"Tim\", \"Tom\"],\n     \"num\": [1, 2]\n}\n```\n\n I want to get a vector of string. I realized that I could only use `auto a = json[\"name\"]` and then process it using for-range loop. However, if I want to explicitly define the return type then I will get an error. For instance, both `vector<string> names = j[\"names\"]` and `vector<string> names = j[\"names\"].get<vector<string>>()` will give me an error:\n\n```\n./json.hpp:829:24: error: no matching constructor for initialization of 'std::__1::vector<std::__1::basic_string<char>,\n      std::__1::allocator<std::__1::basic_string<char> > >'\n                return T(m_value.array->begin(), m_value.array->end());\n```\n\nI can see that json library couldn't cast to `vector<string>`; however, it will work if I want to get `num` even explicitly like this: `vector<float> f = j[\"num\"].get<vector<float>>()`.\n\nNow, I'm wondering if I am doing it wrong or it's not implemented?\n\nThanks,\nAmir.\n"}, {"url": "https://api.github.com/repos/nlohmann/json/issues/43", "repository_url": "https://api.github.com/repos/nlohmann/json", "labels_url": "https://api.github.com/repos/nlohmann/json/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/nlohmann/json/issues/43/comments", "events_url": "https://api.github.com/repos/nlohmann/json/issues/43/events", "html_url": "https://github.com/nlohmann/json/issues/43", "id": 59796735, "node_id": "MDU6SXNzdWU1OTc5NjczNQ==", "number": 43, "title": "Compilation error due to assuming that private=public", "user": {"login": "gnzlbg", "id": 904614, "node_id": "MDQ6VXNlcjkwNDYxNA==", "avatar_url": "https://avatars0.githubusercontent.com/u/904614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gnzlbg", "html_url": "https://github.com/gnzlbg", "followers_url": "https://api.github.com/users/gnzlbg/followers", "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}", "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}", "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions", "organizations_url": "https://api.github.com/users/gnzlbg/orgs", "repos_url": "https://api.github.com/users/gnzlbg/repos", "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}", "received_events_url": "https://api.github.com/users/gnzlbg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 46374231, "node_id": "MDU6TGFiZWw0NjM3NDIzMQ==", "url": "https://api.github.com/repos/nlohmann/json/labels/kind:%20bug", "name": "kind: bug", "color": "fc2929", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2015-03-04T13:23:53Z", "updated_at": "2015-03-22T18:18:25Z", "closed_at": "2015-03-22T18:18:25Z", "author_association": "NONE", "body": "The snippet to reproduce the error:\n\n``` c++\n  struct A {\n    nlohmann::json j;\n    auto has_entry(std::string n) {\n      return j.find(n) != j.end() ? true : false;\n    }\n  };\n```\n\nwhat the error looks like:\n\n``` shell\nsrc/json.hpp:1073:20: error: 'm_it' is a private member of 'nlohmann::basic_json<std::map, std::vector, std::__1::basic_string<char>, bool, long long,\n      double, std::allocator>::const_iterator'\n            result.m_it.object_iterator = m_value.object->find(key);\n                   ^\n```\n\nThis is not catched by the unit tests because they are compiled by defining `private=public`. \n\nA \"better\" way to do that could be  to have a separate file only for those tests that \"need\" `private=public`.\n\nThis _might be_ clang 3.6 specific, since I'm the only one who seems to be having problems. \n\nI worked around this issue by including the library as follows:\n\n``` c++\n#pragma clang diagnostic push\n#pragma clang diagnostic ignored \"-Wfloat-equal\"\n#pragma clang diagnostic ignored \"-Wdeprecated\"\n#define private public\n#include <json.hpp>\n#define private private\n#pragma clang diagnostic pop\n```\n"}, {"url": "https://api.github.com/repos/nlohmann/json/issues/42", "repository_url": "https://api.github.com/repos/nlohmann/json", "labels_url": "https://api.github.com/repos/nlohmann/json/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/nlohmann/json/issues/42/comments", "events_url": "https://api.github.com/repos/nlohmann/json/issues/42/events", "html_url": "https://github.com/nlohmann/json/issues/42", "id": 59792155, "node_id": "MDU6SXNzdWU1OTc5MjE1NQ==", "number": 42, "title": "Use of deprecated implicit copy constructor", "user": {"login": "gnzlbg", "id": 904614, "node_id": "MDQ6VXNlcjkwNDYxNA==", "avatar_url": "https://avatars0.githubusercontent.com/u/904614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gnzlbg", "html_url": "https://github.com/gnzlbg", "followers_url": "https://api.github.com/users/gnzlbg/followers", "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}", "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}", "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions", "organizations_url": "https://api.github.com/users/gnzlbg/orgs", "repos_url": "https://api.github.com/users/gnzlbg/repos", "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}", "received_events_url": "https://api.github.com/users/gnzlbg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 46374231, "node_id": "MDU6TGFiZWw0NjM3NDIzMQ==", "url": "https://api.github.com/repos/nlohmann/json/labels/kind:%20bug", "name": "kind: bug", "color": "fc2929", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2015-03-04T12:38:15Z", "updated_at": "2015-03-23T22:04:07Z", "closed_at": "2015-03-23T22:03:54Z", "author_association": "NONE", "body": "Appears when `-Wdeprecated` is enabled on clang.\n\n``` shell\nsrc/json.hpp:2076:26: warning: definition of implicit copy constructor for 'iterator' is deprecated because it has a user-declared copy assignment\n      operator [-Wdeprecated]\n        inline iterator& operator=(const iterator& other) noexcept\n                         ^\ntest/unit.cpp:2471:37: note: implicit copy constructor for 'iterator' first required here\n                json::iterator it = j.begin();\n\nIn file included from test/unit.cpp:13:\nsrc/json.hpp:2579:32: warning: definition of implicit copy constructor for 'const_iterator' is deprecated because it has a user-declared copy\n      assignment operator [-Wdeprecated]\n        inline const_iterator& operator=(const const_iterator& other) noexcept\n                               ^\ntest/unit.cpp:2496:38: note: implicit copy constructor for 'const_iterator' first required here\n                json::const_iterator it = j_const.begin();\n                                     ^\n```\n\nThere are also some warnings involving floating point comparisons when `Wfloat-equal` is enabled:\n\n``` shell\nsrc/json.hpp:1567:53: warning: comparing floating point with == or != is unsafe [-Wfloat-equal]\n                    return lhs.m_value.number_float == static_cast<number_float_t>(rhs.m_value.number_integer);\n                           ~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\ntest/unit.cpp:127:21: note: in instantiation of member function 'nlohmann::operator==' requested here\n            CHECK(j == j_reference);\n                    ^\ntest/catch.hpp:8925:44: note: expanded from macro 'CHECK'\n#define CHECK( expr ) INTERNAL_CATCH_TEST( expr, Catch::ResultDisposition::ContinueOnFailure, \"CHECK\" )\n                                           ^\ntest/catch.hpp:1484:39: note: expanded from macro 'INTERNAL_CATCH_TEST'\n    } while( Catch::isTrue( false && (expr) ) ) // expr here is never evaluated at runtime but it forces the compiler to give it a look\n                                      ^\nIn file included from test/unit.cpp:13:\nsrc/json.hpp:1571:53: warning: comparing floating point with == or != is unsafe [-Wfloat-equal]\n                    return lhs.m_value.number_float == rhs.m_value.number_float;\n                           ~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~~~~~~~~~~~~~\nsrc/json.hpp:4235:35: warning: comparing floating point with == or != is unsafe [-Wfloat-equal]\n                    if (float_val == int_val)\n                        ~~~~~~~~~ ^  ~~~~~~~\n```\n"}, {"url": "https://api.github.com/repos/nlohmann/json/issues/39", "repository_url": "https://api.github.com/repos/nlohmann/json", "labels_url": "https://api.github.com/repos/nlohmann/json/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/nlohmann/json/issues/39/comments", "events_url": "https://api.github.com/repos/nlohmann/json/issues/39/events", "html_url": "https://github.com/nlohmann/json/issues/39", "id": 59371044, "node_id": "MDU6SXNzdWU1OTM3MTA0NA==", "number": 39, "title": "Printing attribute names", "user": {"login": "luxe", "id": 1312081, "node_id": "MDQ6VXNlcjEzMTIwODE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1312081?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luxe", "html_url": "https://github.com/luxe", "followers_url": "https://api.github.com/users/luxe/followers", "following_url": "https://api.github.com/users/luxe/following{/other_user}", "gists_url": "https://api.github.com/users/luxe/gists{/gist_id}", "starred_url": "https://api.github.com/users/luxe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luxe/subscriptions", "organizations_url": "https://api.github.com/users/luxe/orgs", "repos_url": "https://api.github.com/users/luxe/repos", "events_url": "https://api.github.com/users/luxe/events{/privacy}", "received_events_url": "https://api.github.com/users/luxe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 46374233, "node_id": "MDU6TGFiZWw0NjM3NDIzMw==", "url": "https://api.github.com/repos/nlohmann/json/labels/kind:%20enhancement/improvement", "name": "kind: enhancement/improvement", "color": "207de5", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nlohmann", "id": 159488, "node_id": "MDQ6VXNlcjE1OTQ4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/159488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlohmann", "html_url": "https://github.com/nlohmann", "followers_url": "https://api.github.com/users/nlohmann/followers", "following_url": "https://api.github.com/users/nlohmann/following{/other_user}", "gists_url": "https://api.github.com/users/nlohmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlohmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlohmann/subscriptions", "organizations_url": "https://api.github.com/users/nlohmann/orgs", "repos_url": "https://api.github.com/users/nlohmann/repos", "events_url": "https://api.github.com/users/nlohmann/events{/privacy}", "received_events_url": "https://api.github.com/users/nlohmann/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2015-03-01T01:44:00Z", "updated_at": "2016-11-13T22:38:20Z", "closed_at": "2015-03-26T17:01:31Z", "author_association": "CONTRIBUTOR", "body": "What would be the best way to iterate over a json object and print the attribute names?  \nMy goal would be to have something like this:  \n\n**example json:**  \n\n``` json\n{\n\"example\": {\n    \"a\": \"hello\",\n    \"b\": \"world\",\n    \"c\": \"text\"\n  }\n}\n```\n\n**example printing code:**  \n\n``` cpp\nauto j = nlohmann::json::parse(Read_Entire_File_Into_String(\"example.json\"));\nauto element = j[\"example\"];\nfor (auto const& it: element) {\n    std::cout << it.attribute_name() << std::endl;\n}\n// I made up 'Read_Entire_File_Into_String', but it does what you'd expect.\n// the attribute_name() method doesn't exist, but I wish that it had.\n```\n\n**example results:**  \n\n```\na\nb\nc\n```\n\nNot everything has an attribute name, in which case, it could return an empty string, throw an exception, or return std::optional.  \n\nI thought this might be easy to implement, but it appears that all of the attribute names are stored in the parent object, which means that when we iterate over an object, each iterator points to an object that has no way of finding out its own attribute name.  \n\nfor example, if I were to edit `json.hpp` and give the `basic_json` class this public member function:  \n\n``` cpp\n    inline string_t attribute_name() const noexcept\n    {\n        std::string str;\n        if (m_type == value_t::object){\n            for (auto i = m_value.object->cbegin(); i != m_value.object->cend(); ++i){\n                str += escape_string(i->first) + \" \";\n            }\n        }\n\n        return str;\n    }\n```\n\nand run client code like this:  \n\n``` cpp\n#include \"json.hpp\"\n#include <iostream>\n\nvoid Recursive_Print(nlohmann::json const& element, unsigned int depth);\n\nint main(){\n  auto element = nlohmann::json::parse(Read_Entire_File_Into_String(\"changelog.json\"));\n\n  if (element.is_null()){ std::cout << \"null \" << element.attribute_name() << std::endl;}\n  if (element.is_boolean()){std::cout << \"bool \" << element.attribute_name() << std::endl;}\n  if (element.is_number()){std::cout << \"number \" << element.attribute_name() << std::endl;}\n  if (element.is_object()){std::cout << \"object \" << element.attribute_name() << std::endl;}\n  if (element.is_array()){std::cout << \"array \" << element.attribute_name() << std::endl;}\n  if (element.is_string()){std::cout << \"string \" << element.attribute_name() << std::endl;}\n}\nvoid Recursive_Print(nlohmann::json const& element, unsigned int depth){\n  for (auto const& it: element) {\n    Print_Character_N_Times('-',depth); \n    if (it.is_null()){ std::cout << \"null \" << it.attribute_name() << std::endl;}\n    if (it.is_boolean()){std::cout << \"bool \" << it.attribute_name() << std::endl;}\n    if (it.is_number()){std::cout << \"number \" << it.attribute_name() << std::endl;}\n    if (it.is_object()){std::cout << \"object \" << it.attribute_name() << std::endl; Recursive_Print(it,++depth);}\n    if (it.is_array()){std::cout << \"array \" << it.attribute_name() << std::endl; Recursive_Print(it,++depth);}\n    if (it.is_string()){std::cout << \"string \" << it.attribute_name() << std::endl;}\n  }\n}\n//PRETTY MESSY.  BUT YOU GET THE GIST\n```\n\n**it would result in the following**:  \n\n```\nobject example \n-object a b c \n--string \n--string \n--string\n```\n\nI think that illustrates my point about attribute names being stored in the parents.\n\nAnyway, do you have any thoughts on how I could accomplish this?\n"}]